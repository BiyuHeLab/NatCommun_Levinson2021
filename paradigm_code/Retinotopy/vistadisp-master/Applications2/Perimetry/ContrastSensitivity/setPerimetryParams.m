function [stimParams, testParams] = setPerimetryParams(display,name,group,session,filename)%% [stimParams, testParams] = setPerimetryParams(display,name,group,session,filename)%% Set up the stimulus and general test parameters for the perimetry% experiment%% These are the stimulus specific parameters% All position in this format [vertical, horizontal]% stimParams.position=[300,300];		% An example, in pixels% stimParams.contrast = 0.8;			% in contrast%stimParams.image = blkball(display.distance,display,18,15);%stimParams.image = whiteball(display.distance,display,18,15);totalViewingAngle = 12;  % degstimulusSupport = 8;     % degcyclesPerTotal = 4;      % Cycles Per Degree is cycles/totalViewAngle%  Create the gabor imagestimParams.image = ...gabor(display.distance,display,totalViewingAngle,stimulusSupport,cyclesPerTotal);stimParams.duration = 0.2;			% in seconds  % Set your  Test ParameterstestParams.alternativeVarName = 'position';testParams.subject = name;testParams.group = group;testParams.sessionNum = session;testParams.expname = {'Perimetry'};% Fixation parameterstestParams.imgfixpoint=fixpoint(20,10);testParams.fixloc = [300,400];% List of stimulus presentation locations.% For testing, we use just a couple.  The% routine perilocations will return a large set for real testing%testParams.alternativeVarValues = [200,100;300,400];%testParams.alternativeVarValues = [300,400];% testParams.alternativeVarValues = perilocations(display,testParams.fixloc(1),testParams.fixloc(2));% plot(testParams.alternativeVarValues(:,1),testParams.alternativeVarValues(:,2),'o')% These are the contrast levelstestParams.contrastscale =logspace(-2.2,0,5);testParams.medcontrastindex = 3;    % Index into the middle, used to start% Response keystestParams.keyyes='1';testParams.keyno='3';testParams.keystop='q';% Trial parameterstestParams.maxtrials=500;% A catch trial is presented this often% units in number of trials unitstestParams.catchcycle=9;return