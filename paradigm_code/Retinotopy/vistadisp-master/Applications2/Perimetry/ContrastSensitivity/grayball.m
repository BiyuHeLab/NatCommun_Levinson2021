function [img] = grayball(distance,display,angle,anglecircle);angle=angle/2;halfwidthimage = round(2*distance*tan(angle*2/2*pi/360)/display.pixelSize);diamsphere = round(2*distance*tan(anglecircle*2/2*pi/360)/display.pixelSize);radiusPix = 2*floor(halfwidthimage/2)+1;spreadPix =  2*floor(diamsphere/2)+1;img = zeros(radiusPix*2+1, radiusPix*2+1, 2);[x,y] = meshgrid(-radiusPix:radiusPix,-radiusPix:radiusPix);img= exp(-((x/(0.5*spreadPix)).^2) - ((y/(0.5*spreadPix)).^2));%Normalizationmaxval=abs(max(max(img)));minval=abs(min(min(img)));k=127/max(maxval,minval);img=img*k+127;